# Skin Analyzer - –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∫–æ–∂–∏

–û–±–ª–∞—á–Ω—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–æ–∂–∏ –ª–∏—Ü–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –±–æ–ª—å—à–∏—Ö —è–∑—ã–∫–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π (LLM).

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üî¨ –ê–Ω–∞–ª–∏–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–æ–∂–∏ (–∞–∫–Ω–µ, –º–æ—Ä—â–∏–Ω—ã, –ø–∏–≥–º–µ–Ω—Ç–∞—Ü–∏—è, –ø–æ—Ä—ã –∏ —Ç.–¥.)
- ü§ñ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ vision –º–æ–¥–µ–ª–µ–π (llama-3.2-90b-vision-preview)
- üìä –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –æ—Ç—á—ë—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é LLM
- üîÑ Fallback –º–µ—Ö–∞–Ω–∏–∑–º (Groq ‚Üí OpenRouter ‚Üí Local)
- ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –º–æ–¥–µ–ª–∏ —á–µ—Ä–µ–∑ UI
- üìÅ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –Ø–Ω–¥–µ–∫—Å –î–∏—Å–∫–æ–º (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
python3 -m venv .venv
```

2. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
```bash
# –ù–∞ macOS/Linux:
source .venv/bin/activate

# –ù–∞ Windows:
.venv\Scripts\activate
```

3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
pip install -r requirements.txt
```

4. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` —Å API –∫–ª—é—á–∞–º–∏:
```bash
GROQ_API_KEY=your_groq_api_key
OPENROUTER_API_KEY=your_openrouter_api_key
PORT=5000
```

**–ì–¥–µ –ø–æ–ª—É—á–∏—Ç—å –∫–ª—é—á–∏:**
- Groq: https://console.groq.com/
- OpenRouter: https://openrouter.ai/

## –ü–æ–ª—É—á–µ–Ω–∏–µ OAuth —Ç–æ–∫–µ–Ω–∞

–ï—Å–ª–∏ —É –≤–∞—Å –Ω–µ—Ç OAuth —Ç–æ–∫–µ–Ω–∞ –∏–ª–∏ –æ–Ω –∏—Å—Ç–µ–∫, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

### –°–ø–æ—Å–æ–± 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞:
```bash
python get_oauth_token.py
```

–°–∫—Ä–∏–ø—Ç –æ—Ç–∫—Ä–æ–µ—Ç –±—Ä–∞—É–∑–µ—Ä —Å —Ñ–æ—Ä–º–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏. –ü–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:
1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω –∏–∑ URL (—á–∞—Å—Ç—å –ø–æ—Å–ª–µ `access_token=` –∏ –¥–æ `&`)
2. –û–±–Ω–æ–≤–∏—Ç–µ —Ñ–∞–π–ª `.env` —Å –Ω–æ–≤—ã–º —Ç–æ–∫–µ–Ω–æ–º

### –°–ø–æ—Å–æ–± 2: –†—É—á–Ω–æ–π

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ —Å–ª–µ–¥—É—é—â—É—é —Å—Å—ã–ª–∫—É:
   ```
   https://oauth.yandex.ru/authorize?response_type=token&client_id=047b883acf9042e2a85f901255b81520
   ```

2. –í–æ–π–¥–∏—Ç–µ –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç –Ø–Ω–¥–µ–∫—Å (–µ—Å–ª–∏ –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã)

3. –ù–∞–∂–º–∏—Ç–µ "–†–∞–∑—Ä–µ—à–∏—Ç—å" –¥–ª—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é

4. –ü–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤—ã –±—É–¥–µ—Ç–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å —Ç–æ–∫–µ–Ω–æ–º –≤ URL:
   ```
   https://oauth.yandex.ru/verification_code#access_token=–í–ê–®_–¢–û–ö–ï–ù&token_type=bearer
   ```

5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω (—á–∞—Å—Ç—å –ø–æ—Å–ª–µ `access_token=` –∏ –¥–æ `&`)

6. –û–±–Ω–æ–≤–∏—Ç–µ —Ñ–∞–π–ª `.env`:
   ```
   YANDEX_DISK_OAUTH_TOKEN=–≤–∞—à_–Ω–æ–≤—ã–π_—Ç–æ–∫–µ–Ω
   ```

**–í–∞–∂–Ω–æ:**
- –¢–æ–∫–µ–Ω –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω 1 –≥–æ–¥
- –ù–µ –¥–µ–ª–∏—Ç–µ—Å—å —Ç–æ–∫–µ–Ω–æ–º —Å –¥—Ä—É–≥–∏–º–∏
- –•—Ä–∞–Ω–∏—Ç–µ `.env` —Ñ–∞–π–ª –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (–Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ –≤ git!)

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

**–í–∞–∂–Ω–æ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Flask –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ!

```bash
# –° –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º –æ–∫—Ä—É–∂–µ–Ω–∏–µ–º:
python app.py

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç:
./start.sh

# –ò–ª–∏ –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ .venv:
.venv/bin/python app.py
```

**–ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ—Å—Ç–æ–π HTTP —Å–µ—Ä–≤–µ—Ä:**
```bash
# ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û - –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç POST –∑–∞–ø—Ä–æ—Å—ã:
python3 -m http.server 8000
```

–°–µ—Ä–≤–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–π–¥—ë—Ç —Å–≤–æ–±–æ–¥–Ω—ã–π –ø–æ—Ä—Ç –∏ –≤—ã–≤–µ–¥–µ—Ç –∞–¥—Ä–µ—Å –≤ –∫–æ–Ω—Å–æ–ª—å (–æ–±—ã—á–Ω–æ `http://localhost:5000` –∏–ª–∏ `http://localhost:5001`).

### –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

1. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä: `http://localhost:5000`
2. –ù–∞–∂–º–∏—Ç–µ **"‚öôÔ∏è –ù–ê–°–¢–†–û–ô–ö–ò"** –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–¥–µ–ª–∏
3. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ª–∏—Ü–∞
4. –ù–∞–∂–º–∏—Ç–µ **"–ê–ù–ê–õ–ò–ó–ò–†–û–í–ê–¢–¨"**
5. –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ —Ç–µ–∫—Å—Ç–æ–≤—ã–π –æ—Ç—á—ë—Ç

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- üé® –†–µ—Ç—Ä–æ UI –≤ —Å—Ç–∏–ª–µ Sega
- ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –º–æ–¥–µ–ª–∏ (–≤—ã–¥–≤–∏–∂–Ω–æ–π —Å–ª–∞–π–¥–µ—Ä)
- üìä –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∞–Ω–∞–ª–∏–∑–∞
- üìù –¢–µ–∫—Å—Ç–æ–≤—ã–π –æ—Ç—á—ë—Ç —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏
- üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

### –Ø–Ω–¥–µ–∫—Å –î–∏—Å–∫ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–î–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ø–Ω–¥–µ–∫—Å –î–∏—Å–∫–æ–º:

```bash
# –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
python yandex_disk_gui.py

# –ö–æ–Ω—Å–æ–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
python list_yandex_disk.py "disk:/–ø—É—Ç—å"
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã

- `app.py` - **Backend —Å–µ—Ä–≤–∏—Å –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–∂–∏** üî¨
- `index.html` - Frontend –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (—Ä–µ—Ç—Ä–æ UI)
- `requirements.txt` - –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
- `.env` - –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–Ω–µ –≤ git!)

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `README_BACKEND.md` - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ backend API
- `INSTRUCTION.md` - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏
- `README.md` - –≠—Ç–æ—Ç —Ñ–∞–π–ª

### –Ø–Ω–¥–µ–∫—Å –î–∏—Å–∫ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

- `yandex_disk_gui.py` - –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –Ø–Ω–¥–µ–∫—Å –î–∏—Å–∫–∞
- `list_yandex_disk.py` - –ö–æ–Ω—Å–æ–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç
- `download_file.py` - –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
- `get_oauth_token.py` - –ü–æ–ª—É—á–µ–Ω–∏–µ OAuth —Ç–æ–∫–µ–Ω–∞
- `check_account.py` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫–∫–∞—É–Ω—Ç–∞

## API Endpoints

### POST /api/analyze
–ê–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–æ–∂–∏

### GET /api/config
–ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

### POST /api/config
–û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

–ü–æ–¥—Ä–æ–±–Ω–µ–µ: —Å–º. `README_BACKEND.md`

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã API:

```bash
python test_api.py
```

–¢–µ—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç:
- ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Groq API
- ‚úÖ –¢–µ–∫—Å—Ç–æ–≤—ã–π completion —á–µ—Ä–µ–∑ Groq
- ‚úÖ Vision API —á–µ—Ä–µ–∑ Groq
- ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ OpenRouter API
- ‚úÖ –¢–µ–∫—Å—Ç–æ–≤—ã–π completion —á–µ—Ä–µ–∑ OpenRouter
- ‚úÖ Vision API —á–µ—Ä–µ–∑ OpenRouter
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å backend

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞ "API key not found"
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª `.env` –∏ –Ω–∞–ª–∏—á–∏–µ –∫–ª—é—á–µ–π `GROQ_API_KEY` –∏ `OPENROUTER_API_KEY`

### –û—à–∏–±–∫–∞ "Connection timeout"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ API –∫–ª—é—á–∏ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä (fallback)

### –ú–µ–¥–ª–µ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Groq (–±—ã—Å—Ç—Ä–µ–µ)
- –£–º–µ–Ω—å—à–∏—Ç–µ `max_tokens`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

–ü–æ–¥—Ä–æ–±–Ω–µ–µ: —Å–º. `INSTRUCTION.md`

